<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="fr"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
>
    <h:body>
 
    	<ui:composition template="../Template/template.xhtml">
 			<ui:define name="content">
 				<f:metadata>
    				<f:event type="preRenderView" listener="#{DashboardBean.initView}"/>
				</f:metadata>
 				<section id="content">	
	    			<div class="g12">
    					<div class="g6">
        					<h3>Mes tâches</h3>
        					<p> Statistiques sur mes tâches de projets. </p>
					        <table class="chart" data-type="pie" data-tooltip-pattern="%1 tâche(s)" data-inner-radius="0.5">
					            <tbody>
					            	<ui:repeat var="f" value="#{DashboardBean.userTasks}" varStatus="status">
					            		<tr>
					                    	<th> <h:outputText value="#{f.label}"/> </th>
					                    	<td> <h:outputText value="#{f.count}"/> </td>
					                	</tr>
						            </ui:repeat>
					            </tbody>
					        </table> 
					        <h:panelGroup rendered="#{empty DashboardBean.userTasks}">
					        	<h6> Aucune données disponibles pour cette statistique.</h6>
					        </h:panelGroup> 
					   </div>
					   <div class="g6">
        					<h3>Mes fonctions</h3>
        					<p> Statistiques sur mes fonctions au sein des projets. </p>
        					<h:panelGroup rendered="#{!empty DashboardBean.userFunctions}">
						        <table class="chart" data-type="bars" data-tooltip-pattern="%1 projet(s)" data-inner-radius="0.5">
						            <tbody>
						            	<ui:repeat var="f" value="#{DashboardBean.userFunctions}" varStatus="status">
						            		<tr>
						                    	<th> <h:outputText value="#{f.label}"/> </th>
						                    	<td> <h:outputText value="#{f.count}"/> </td>
						                	</tr>
						                </ui:repeat>
						            </tbody>
						        </table>  
					        </h:panelGroup>
					        <h:panelGroup rendered="#{empty DashboardBean.userFunctions}">
					        	<h6> Aucune données disponibles pour cette statistique.</h6>
					        </h:panelGroup> 
					   </div>
					</div>
					<div class="g12 widgets">
					    <h3 class="handle">Répartition du temps de travail</h3>
					    <p>Répartation de votre temps de travail.</p>
					    <table class="chart" data-fill="true" data-legend="false" >
					        <thead>
					            <tr>
					                <th></th>
					                <ui:repeat var="f" value="#{DashboardBean.userWrkAmount}" varStatus="status">
										<th> <h:outputText value="#{f.label}" /> </th>
						            </ui:repeat>
					            </tr>
					        </thead>
					        <tbody>
					            <tr>
					                <th>Temps (minutes)</th>
					                <ui:repeat var="f" value="#{DashboardBean.userWrkAmount}" varStatus="status">
										<td> <h:outputText value="#{f.count}" /> </td>
						            </ui:repeat>
					            </tr>
					        </tbody>
					    </table>
					    <h:panelGroup rendered="#{empty DashboardBean.userWrkAmount}">
					    	<h6> Aucune données disponibles pour cette statistique.</h6>
					    </h:panelGroup> 
					</div>
	    		</section>
 			</ui:define>
    	</ui:composition>
 
    </h:body>
 
</html>